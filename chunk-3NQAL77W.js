import{a as se}from"./chunk-W3GJXJO5.js";import{a as de}from"./chunk-MJGPYE3P.js";import{a as oe}from"./chunk-I7QRLJEL.js";import{c as ce}from"./chunk-XJSR6U4E.js";import{c as ee}from"./chunk-DTLSTQE2.js";import{a as ae}from"./chunk-TWWCUMJP.js";import{a as te,c as ne,f as ie,r as re}from"./chunk-SN3XOOFD.js";import{$ as m,Aa as y,Ca as L,F as f,G as v,La as U,N as O,P as o,Qa as B,R as _,Ra as H,S as F,Sa as G,Ta as J,W as u,Ya as W,_a as Y,aa as E,b as k,ba as A,da as D,db as K,ea as T,fa as z,fb as X,ga as n,gb as Z,ha as i,ia as d,j as S,kb as M,la as b,ma as g,na as l,oa as V,pa as P,q as R,qa as $,sa as r,t as C,ta as h,ua as x,va as q,wa as j,xa as N,ya as Q}from"./chunk-VKWVD2Y2.js";import{a as w,b as I}from"./chunk-AIZVJUQQ.js";var ge=()=>({"background-image":"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(https://images.unsplash.com/photo-1555396273-367ea4eb4db5?q=80&w=1200&auto=format&fit=crop)"}),pe=(a,t)=>({"fa-heart":a,"fa-heart-o":t}),le=()=>[1,2,3,4,5];function he(a,t){if(a&1){let e=b();n(0,"div",20),d(1,"i",21),r(2),n(3,"button",13),g("click",function(){f(e);let c=l();return v(c.errorMessage="")}),i()()}if(a&2){let e=l();o(2),x(" ",e.errorMessage," ")}}function fe(a,t){if(a&1){let e=b();n(0,"div",22),d(1,"i",23),r(2),n(3,"button",13),g("click",function(){f(e);let c=l();return v(c.successMessage="")}),i()()}if(a&2){let e=l();o(2),x(" ",e.successMessage," ")}}function ve(a,t){a&1&&(n(0,"div",24)(1,"div",25)(2,"div",26)(3,"span",27),r(4,"Loading..."),i()(),n(5,"p",28),r(6,"Loading restaurant information..."),i()()())}function _e(a,t){a&1&&(n(0,"div",35),d(1,"i",80),n(2,"span",81),r(3,"Free Delivery"),i()())}function xe(a,t){if(a&1&&(n(0,"div",35),d(1,"i",82),r(2),i()),a&2){let e=l(2);o(2),x(" Delivery Fee: $",e.restaurant.deliveryFee.toFixed(2)," ")}}function Ce(a,t){if(a&1&&(n(0,"span",83),r(1),i()),a&2){let e=t.$implicit;o(),h(e)}}function be(a,t){if(a&1){let e=b();n(0,"button",89),g("click",function(){f(e);let c=l(3);return v(c.startOrder())}),d(1,"i",90),r(2," Start New Order "),i()}}function Me(a,t){if(a&1){let e=b();n(0,"div",84),u(1,be,3,0,"button",85),n(2,"button",86),g("click",function(){f(e);let c=l(2);return v(c.toggleFavorite())}),d(3,"i",87),r(4),i(),n(5,"button",86),g("click",function(){f(e);let c=l(2);return v(c.shareRestaurant())}),d(6,"i",88),r(7," Share "),i()()}if(a&2){let e=l(2);o(),m("ngIf",(e.authService.isManager||e.authService.isAdmin)&&!e.hasActiveOrder),o(2),m("ngClass",L(3,pe,e.isFavorite,!e.isFavorite)),o(),x(" ",e.isFavorite?"Saved":"Save"," ")}}function Oe(a,t){if(a&1&&(n(0,"span",91),r(1),i()),a&2){let e=t.$implicit;o(),h(e)}}function ye(a,t){a&1&&(n(0,"div",92)(1,"div",93),d(2,"i",94),i(),n(3,"h3"),r(4,"No Menu Items Available"),i(),n(5,"p"),r(6,"This restaurant hasn't added any menu items yet. Check back later!"),i()())}function Pe(a,t){a&1&&(n(0,"div",95)(1,"div",96),d(2,"i",97),r(3," There is no active order for this restaurant. Please wait for a manager to start an order before adding items to your cart. "),i()())}function we(a,t){a&1&&(n(0,"div",95)(1,"div",98),d(2,"i",23),r(3," This restaurant has an active order! You can now add items to your order. "),i()())}function Ie(a,t){a&1&&(n(0,"div",108),d(1,"i",109),r(2," Popular "),i())}function ke(a,t){if(a&1){let e=b();n(0,"div",110)(1,"div",111)(2,"button",112),g("click",function(){f(e);let c=l().$implicit,p=l(2);return v(p.decreaseQuantity(c))}),r(3,"-"),i(),n(4,"span",113),r(5),i(),n(6,"button",112),g("click",function(){f(e);let c=l().$implicit,p=l(2);return v(p.increaseQuantity(c))}),r(7,"+"),i()(),n(8,"button",114),g("click",function(){f(e);let c=l().$implicit,p=l(2);return v(p.addToCart(c))}),d(9,"i",115),r(10," Add "),i()()}if(a&2){let e=l().$implicit,s=l(2);o(5),h(s.getItemQuantity(e)),o(3),m("disabled",!s.hasActiveOrder)}}function Se(a,t){if(a&1&&(n(0,"div",71)(1,"div",99)(2,"div",100),d(3,"img",101),u(4,Ie,3,0,"div",102),i(),n(5,"div",103)(6,"div",104)(7,"h3"),r(8),i(),n(9,"div",105),r(10),i()(),n(11,"p",106),r(12),i(),u(13,ke,11,2,"div",107),i()()()),a&2){let e=t.$implicit,s=l(2);o(3),V("alt",e.name),o(),m("ngIf",e.isPopular),o(4),h(e.name),o(2),x("$",e.price.toFixed(2),""),o(2),h(e.description),o(),m("ngIf",s.authService.isLoggedIn)}}function Re(a,t){a&1&&d(0,"i",39)}function Fe(a,t){a&1&&d(0,"i",127)}function Ee(a,t){if(a&1&&(n(0,"div",116)(1,"div",117)(2,"div",118)(3,"div",119),d(4,"img",120),i(),n(5,"div",121)(6,"h4"),r(7),i(),n(8,"div",122),u(9,Re,1,0,"i",123)(10,Fe,1,0,"i",124),i(),n(11,"span",125),r(12),i()()()(),n(13,"div",126)(14,"p"),r(15),i()()()),a&2){let e=t.$implicit;o(4),P("src","https://i.pravatar.cc/150?img=",e.avatarId,"",O),o(3),h(e.name),o(2),m("ngForOf",y(7,le).slice(0,e.rating)),o(),m("ngForOf",y(8,le).slice(e.rating,5)),o(2),h(e.date),o(3),h(e.comment)}}function Ae(a,t){if(a&1){let e=b();n(0,"div",29)(1,"section",30)(2,"div",31)(3,"div",32)(4,"div",33)(5,"h1"),r(6),i(),n(7,"div",34)(8,"div",35),d(9,"i",36),r(10),i(),n(11,"div",35),d(12,"i",37),r(13),i(),u(14,_e,4,0,"div",38)(15,xe,3,1,"div",38),n(16,"div",35),d(17,"i",39),r(18),i()(),n(19,"div",40),u(20,Ce,2,1,"span",41),i(),u(21,Me,8,6,"div",42),i()()()(),n(22,"section",43)(23,"div",31)(24,"div",44)(25,"div",45)(26,"div",46)(27,"h2"),r(28),i(),n(29,"p"),r(30),i(),n(31,"div",47)(32,"div",48)(33,"h4"),r(34,"Cuisines"),i(),n(35,"div",49),u(36,Oe,2,1,"span",50),i()(),n(37,"div",48)(38,"h4"),r(39,"Opening Hours"),i(),n(40,"ul",51)(41,"li")(42,"span"),r(43,"Monday - Friday:"),i(),n(44,"span"),r(45,"11:00 AM - 10:00 PM"),i()(),n(46,"li")(47,"span"),r(48,"Saturday - Sunday:"),i(),n(49,"span"),r(50,"10:00 AM - 11:00 PM"),i()()()(),n(51,"div",48)(52,"h4"),r(53,"Payment Methods"),i(),n(54,"div",52),d(55,"i",53)(56,"i",54)(57,"i",55)(58,"i",56),i()()()()(),n(59,"div",57)(60,"div",58)(61,"h3"),r(62,"Location"),i(),n(63,"div",59),d(64,"img",60),i(),n(65,"div",61)(66,"a",62),d(67,"i",63),r(68," Get Directions "),i()()()()()()(),n(69,"section",64)(70,"div",31)(71,"div",65)(72,"h2"),r(73,"Menu"),i(),n(74,"div",66)(75,"button",67),r(76,"All"),i(),n(77,"button",68),r(78,"Appetizers"),i(),n(79,"button",68),r(80,"Main Courses"),i(),n(81,"button",68),r(82,"Desserts"),i(),n(83,"button",68),r(84,"Beverages"),i()()(),u(85,ye,7,0,"div",69),n(86,"div",44),u(87,Pe,4,0,"div",70)(88,we,4,0,"div",70),T(89,Se,14,6,"div",71,D().trackByMenuItem,!0),i()()(),n(91,"section",72)(92,"div",31)(93,"div",65)(94,"h2"),r(95,"Customer Reviews"),i(),n(96,"button",73),g("click",function(){f(e);let c=l();return v(c.showReviewForm())}),d(97,"i",74),r(98," Write a Review "),i()(),n(99,"div",75),u(100,Ee,16,9,"div",76),i(),n(101,"div",77)(102,"button",78),d(103,"i",79),r(104," Load More Reviews "),i()()()()()}if(a&2){let e=l();o(),m("ngStyle",y(23,ge)),o(5),h(e.restaurant.name),o(4),x(" ",e.restaurant.address," "),o(3),x(" ",e.restaurant.phoneNumber," "),o(),m("ngIf",e.restaurant.deliveryFee===0),o(),m("ngIf",e.restaurant.deliveryFee>0),o(3),q(" ",e.restaurantRating," (",e.restaurantReviewCount," reviews) "),o(2),m("ngForOf",e.restaurantTags),o(),m("ngIf",e.authService.isLoggedIn),o(7),x("About ",e.restaurant.name,""),o(2),h(e.restaurant.description),o(6),m("ngForOf",e.restaurantCuisines),o(28),$("src","https://maps.googleapis.com/maps/api/staticmap?center=",e.restaurant.address,"&zoom=15&size=600x300&maptype=roadmap&markers=color:red%7C",e.restaurant.address,"&key=YOUR_API_KEY",O),o(2),P("href","https://maps.google.com/?q=",e.restaurant.address,"",O),o(19),m("ngIf",e.menuItems.length===0&&!e.isLoading),o(2),m("ngIf",!e.hasActiveOrder),o(),m("ngIf",e.hasActiveOrder),o(),z(e.menuItems),o(11),m("ngForOf",e.reviews)("ngForTrackBy",e.trackByReview)}}function De(a,t){if(a&1){let e=b();n(0,"div",128)(1,"h4"),r(2),i(),n(3,"p",129),r(4),i(),n(5,"div",130)(6,"div",131),r(7),i(),n(8,"div",111)(9,"button",112),g("click",function(){f(e);let c=l();return v(c.decreaseQuantity(c.selectedItem))}),r(10,"-"),i(),n(11,"span",113),r(12),i(),n(13,"button",112),g("click",function(){f(e);let c=l();return v(c.increaseQuantity(c.selectedItem))}),r(14,"+"),i()()(),n(15,"div",132)(16,"label",133),r(17,"Special Instructions (optional)"),i(),n(18,"textarea",134),Q("ngModelChange",function(c){f(e);let p=l();return N(p.itemNote,c)||(p.itemNote=c),v(c)}),i()()()}if(a&2){let e=l();o(2),h(e.selectedItem.name),o(2),h(e.selectedItem.description),o(3),x("$",e.selectedItem.price.toFixed(2),""),o(5),h(e.getItemQuantity(e.selectedItem)),o(6),j("ngModel",e.itemNote)}}function Te(a,t){a&1&&d(0,"div",135)}var me=class a{constructor(t,e,s,c,p,ue,ze,Ve,$e){this.route=t;this.router=e;this.restaurantService=s;this.menuItemService=c;this.orderService=p;this.authService=ue;this.cartService=ze;this.cdr=Ve;this.http=$e;this.restaurantId=this.route.snapshot.paramMap.get("id")||"",this.restaurantRating=this.generateRandomRating(),this.restaurantReviewCount=this.generateRandomReviewCount(),this.restaurantTags=this.getRandomTags(),this.restaurantCuisines=this.getRandomCuisines(),this.reviews=this.getDummyReviews()}restaurantId;restaurant=null;menuItems=[];isLoading=!1;errorMessage="";successMessage="";isFavorite=!1;itemQuantities={};hasActiveOrder=!1;activeOrderId=null;selectedItem=null;itemNote="";showModal=!1;destroy$=new k;restaurantRating="";restaurantReviewCount="";restaurantTags=[];restaurantCuisines=[];reviews=[];availableCuisines=["Italian","Pizza","Pasta","Chinese","Japanese","Thai","Indian","Mexican","Mediterranean","Vegetarian","American","BBQ","Seafood","Greek","Turkish","Lebanese","Vietnamese"];availableTags=["Outdoor Seating","Delivery","Takeout","Group-Friendly","Has TV","Casual Dining","Fine Dining","Family-Friendly","Romantic","Live Music","Happy Hour","Gluten-Free Options","Vegan Options","Organic","Farm-to-Table"];ngOnInit(){if(!this.restaurantId){this.router.navigate(["/restaurants"]);return}this.loadRestaurantDetails(),this.checkActiveOrder();let t=setInterval(()=>{if(this.destroy$.closed){clearInterval(t);return}this.checkActiveOrder()},3e4);this.checkActiveOrderDirectly()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadRestaurantDetails(){this.isLoading=!0,this.errorMessage="",S({restaurant:this.restaurantService.getById(this.restaurantId),menuItems:this.menuItemService.getByRestaurant(this.restaurantId)}).pipe(C(this.destroy$),R(()=>{this.isLoading=!1,this.cdr.markForCheck()})).subscribe({next:t=>{this.restaurant=t.restaurant,this.menuItems=t.menuItems.map(e=>I(w({},e),{isPopular:Math.random()>.7})),this.initializeQuantities()},error:t=>{this.errorMessage=t.message||"Failed to load restaurant details",this.cdr.markForCheck()}})}checkActiveOrder(){if(!this.restaurantId)return;console.log("Checking active order for restaurant:",this.restaurantId);let t=this.orderService.getCachedActiveOrder(this.restaurantId);t&&(console.log("Found cached active order:",t),this.hasActiveOrder=!0,this.activeOrderId=t.orderId,this.cdr.markForCheck()),this.orderService.getActiveOrderForRestaurant(this.restaurantId).pipe(C(this.destroy$)).subscribe({next:e=>{if(console.log("Active order API response (processed):",e),e&&e.id){let s=e.restaurantId||(e.restaurant?e.restaurant.id:null);console.log("Order restaurant ID:",s,"Current restaurant ID:",this.restaurantId),!s||s===this.restaurantId?(this.hasActiveOrder=!0,this.activeOrderId=e.id,console.log("Active order found for this restaurant:",this.hasActiveOrder,"Order ID:",this.activeOrderId),this.hasActiveOrder&&this.cartService.setRestaurant(this.restaurantId).subscribe()):(this.hasActiveOrder=!1,this.activeOrderId=null,console.log("Order found but for a different restaurant"))}else this.hasActiveOrder=!1,this.activeOrderId=null,console.log("No active order found");this.cdr.markForCheck()},error:e=>{console.error("Error checking active order:",e),!this.hasActiveOrder&&t?(this.hasActiveOrder=!0,this.activeOrderId=t.orderId):(this.hasActiveOrder=!1,this.activeOrderId=null),this.cdr.markForCheck()}})}checkActiveOrderDirectly(){this.http.get(`${M.apiUrl}/orders/active`).pipe(C(this.destroy$)).subscribe({next:t=>{console.log("Direct API call response for all active orders:",t);let e=[];if(Array.isArray(t))e=t;else if(t.data&&Array.isArray(t.data))e=t.data;else{console.error("Unexpected response format:",t);return}let s=e.find(c=>(c.restaurantId||(c.restaurant?c.restaurant.id:null))===this.restaurantId);s&&s.id&&(console.log("Active order found directly:",s),this.hasActiveOrder=!0,this.activeOrderId=s.id,this.orderService.storeActiveOrder(this.restaurantId,s.id),this.cdr.markForCheck())},error:t=>{console.error("Error in direct active order check:",t)}})}initializeQuantities(){this.menuItems.forEach(t=>{t.id&&!this.itemQuantities[t.id]&&(this.itemQuantities[t.id]=1)})}startOrder(){if(!this.authService.isLoggedIn){this.router.navigate(["/auth/login"]);return}if(!this.authService.isManager&&!this.authService.isAdmin){this.errorMessage="Only restaurant managers or admins can start orders",this.cdr.markForCheck();return}let t=this.authService.currentUser?.id||"";console.log("Starting order for restaurant:",this.restaurantId,"Manager:",t),this.http.post(`${M.apiUrl}/orders/start`,{restaurantId:this.restaurantId,managerId:t}).pipe(C(this.destroy$)).subscribe({next:e=>{console.log("Order start response:",e);let s=e.id||e;this.successMessage="Order started successfully! Users can now add items to their cart.",this.activeOrderId=s,this.hasActiveOrder=!0,this.orderService.storeActiveOrder(this.restaurantId,s),this.cartService.setRestaurant(this.restaurantId).subscribe(),this.cdr.markForCheck()},error:e=>{console.error("Failed to start order:",e),this.errorMessage=e.message||"Failed to start order",this.cdr.markForCheck()}})}closeOrder(){if(this.activeOrderId){if(!this.authService.isManager&&!this.authService.isAdmin){this.errorMessage="Only restaurant managers or admins can close orders",this.cdr.markForCheck();return}console.log("Closing order:",this.activeOrderId),this.http.post(`${M.apiUrl}/orders/${this.activeOrderId}/close`,{}).pipe(C(this.destroy$)).subscribe({next:t=>{console.log("Order close response:",t),this.successMessage="Order closed successfully! Users can no longer add items to their cart.",this.hasActiveOrder=!1,this.activeOrderId=null,this.orderService.removeActiveOrder(this.restaurantId),this.cdr.markForCheck()},error:t=>{console.error("Failed to close order:",t),this.errorMessage=t.message||"Failed to close order",this.cdr.markForCheck()}})}}trackByMenuItem(t,e){return e.id||String(t)}trackByReview(t,e){return t}getItemQuantity(t){return t.id&&this.itemQuantities[t.id]||1}increaseQuantity(t){t.id&&this.itemQuantities[t.id]<10&&(this.itemQuantities[t.id]++,this.cdr.markForCheck())}decreaseQuantity(t){t.id&&this.itemQuantities[t.id]>1&&(this.itemQuantities[t.id]--,this.cdr.markForCheck())}addToCart(t){if(!this.authService.isLoggedIn){this.router.navigate(["/auth/login"]);return}console.log("Adding to cart. Active order:",this.hasActiveOrder,"Order ID:",this.activeOrderId),!this.hasActiveOrder||!this.activeOrderId?this.http.get(`${M.apiUrl}/orders/active`).pipe(C(this.destroy$)).subscribe({next:e=>{console.log("Direct API check for adding to cart:",e);let s=[];if(Array.isArray(e))s=e;else if(e.data&&Array.isArray(e.data))s=e.data;else{console.error("Unexpected response format:",e),this.errorMessage="There is no active order for this restaurant. Please wait for a manager to start an order.",this.cdr.markForCheck();return}let c=s.find(p=>(p.restaurantId||(p.restaurant?p.restaurant.id:null))===this.restaurantId);c&&c.id?(console.log("Found active order for adding item:",c),this.hasActiveOrder=!0,this.activeOrderId=c.id,this.orderService.storeActiveOrder(this.restaurantId,c.id),this.openAddItemModal(t)):(this.errorMessage="There is no active order for this restaurant. Please wait for a manager to start an order.",this.cdr.markForCheck())},error:e=>{console.error("Error checking active order for adding item:",e),this.errorMessage="There is no active order for this restaurant. Please wait for a manager to start an order.",this.cdr.markForCheck()}}):this.openAddItemModal(t)}openAddItemModal(t){this.selectedItem=t,this.itemNote="",this.showModal=!0,this.cdr.markForCheck()}confirmAddToCart(){if(!this.selectedItem||!this.activeOrderId)return;let t=this.selectedItem.id?this.itemQuantities[this.selectedItem.id]:1,e={orderId:this.activeOrderId,menuItemId:this.selectedItem.id||"",quantity:t,note:this.itemNote,userId:this.authService.currentUser?.id||""};this.orderService.addOrderItem(e).pipe(C(this.destroy$)).subscribe({next:()=>{this.successMessage=`${this.selectedItem?.name} added to your order!`,this.closeModal(),this.cdr.markForCheck()},error:s=>{this.errorMessage=s.message||"Failed to add item to order",this.closeModal(),this.cdr.markForCheck()}})}closeModal(){this.showModal=!1,this.selectedItem=null,this.itemNote="",this.cdr.markForCheck()}toggleFavorite(){this.isFavorite=!this.isFavorite,this.cdr.markForCheck()}shareRestaurant(){alert(`Sharing ${this.restaurant?.name||"restaurant"}`)}showReviewForm(){alert("Review form would be shown here")}generateRandomRating(){return(3.5+Math.random()*1.5).toFixed(1)}generateRandomReviewCount(){return Math.floor(50+Math.random()*200).toString()}getRandomTags(){return[...this.availableTags].sort(()=>.5-Math.random()).slice(0,3+Math.floor(Math.random()*3))}getRandomCuisines(){return[...this.availableCuisines].sort(()=>.5-Math.random()).slice(0,2+Math.floor(Math.random()*2))}getDummyReviews(){let t=[],e=["John D.","Sarah M.","Robert J.","Emily L.","Michael T.","Jessica K."],s=["Great food and excellent service! Will definitely come back again.","The atmosphere was nice but the food was just okay. Service could be better.","Absolutely loved everything about this place! The chef is amazing.","Decent place for a quick meal, but nothing extraordinary.","Best restaurant in town! The desserts are to die for.","Friendly staff and good food. Prices are reasonable for the quality."];for(let c=0;c<6;c++)t.push({name:e[c],avatarId:(c+1).toString(),rating:3+Math.floor(Math.random()*3),date:`${Math.floor(Math.random()*28)+1}/${Math.floor(Math.random()*12)+1}/2023`,comment:s[c]});return t}static \u0275fac=function(e){return new(e||a)(_(K),_(X),_(oe),_(se),_(ce),_(ee),_(de),_(U),_(Y))};static \u0275cmp=F({type:a,selectors:[["app-restaurant-detail"]],decls:24,vars:10,consts:[[1,"restaurant-detail-container"],["class","alert alert-danger alert-dismissible fade show",4,"ngIf"],["class","alert alert-success alert-dismissible fade show",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","restaurant-content",4,"ngIf"],[1,"container","back-nav"],["routerLink","/restaurants",1,"btn","btn-outline-primary"],[1,"fas","fa-arrow-left","me-2"],[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["class","selected-item-details",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["class","modal-backdrop fade show",4,"ngIf"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-circle","me-2"],[1,"alert","alert-success","alert-dismissible","fade","show"],[1,"fas","fa-check-circle","me-2"],[1,"loading-container"],[1,"spinner-wrapper"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"restaurant-content"],[1,"restaurant-hero",3,"ngStyle"],[1,"container"],[1,"row","align-items-center"],[1,"col-lg-8","restaurant-hero-content"],[1,"restaurant-meta"],[1,"meta-item"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-phone-alt"],["class","meta-item",4,"ngIf"],[1,"fas","fa-star"],[1,"restaurant-tags"],["class","tag",4,"ngFor","ngForOf"],["class","restaurant-actions",4,"ngIf"],[1,"restaurant-info-section"],[1,"row"],[1,"col-lg-8"],[1,"restaurant-description-card"],[1,"additional-info"],[1,"info-group"],[1,"cuisine-tags"],["class","cuisine-tag",4,"ngFor","ngForOf"],[1,"hours-list"],[1,"payment-methods"],[1,"fab","fa-cc-visa"],[1,"fab","fa-cc-mastercard"],[1,"fab","fa-cc-amex"],[1,"fab","fa-cc-paypal"],[1,"col-lg-4"],[1,"restaurant-map-card"],[1,"map-placeholder"],["alt","Restaurant location map","width","600","height","300","loading","lazy",1,"img-fluid",3,"src"],[1,"map-actions"],["target","_blank",1,"btn","btn-outline-primary","btn-sm",3,"href"],[1,"fas","fa-directions","me-2"],[1,"menu-section"],[1,"section-heading"],[1,"menu-filter"],[1,"btn","btn-outline-secondary","btn-sm","active"],[1,"btn","btn-outline-secondary","btn-sm"],["class","empty-menu-state",4,"ngIf"],["class","col-12 mb-4",4,"ngIf"],[1,"col-md-6","col-lg-4","mb-4"],[1,"reviews-section"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-star","me-2"],[1,"reviews-list"],["class","review-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-center","mt-4"],[1,"btn","btn-outline-secondary"],[1,"fas","fa-sync","me-2"],[1,"fas","fa-shipping-fast"],[1,"text-success"],[1,"fas","fa-truck"],[1,"tag"],[1,"restaurant-actions"],["class","btn btn-primary btn-action",3,"click",4,"ngIf"],[1,"btn","btn-outline-light","btn-action",3,"click"],[1,"fas",3,"ngClass"],[1,"fas","fa-share-alt","me-2"],[1,"btn","btn-primary","btn-action",3,"click"],[1,"fas","fa-plus-circle","me-2"],[1,"cuisine-tag"],[1,"empty-menu-state"],[1,"empty-state-icon"],[1,"fas","fa-utensils"],[1,"col-12","mb-4"],[1,"alert","alert-warning"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"alert","alert-success"],[1,"menu-item-card"],[1,"menu-item-image"],["src","https://images.unsplash.com/photo-1546069901-ba9599a7e63c?q=80&w=800&auto=format&fit=crop","width","400","height","300","loading","lazy",1,"img-fluid",3,"alt"],["class","menu-item-badge",4,"ngIf"],[1,"menu-item-content"],[1,"menu-item-header"],[1,"menu-item-price"],[1,"menu-item-description"],["class","menu-item-actions",4,"ngIf"],[1,"menu-item-badge"],[1,"fas","fa-fire"],[1,"menu-item-actions"],[1,"quantity-control"],[1,"btn-quantity",3,"click"],[1,"quantity"],[1,"btn","btn-primary","btn-add-cart",3,"click","disabled"],[1,"fas","fa-cart-plus","me-2"],[1,"review-card"],[1,"review-header"],[1,"reviewer-info"],[1,"reviewer-avatar"],["width","50","height","50","alt","Reviewer","loading","lazy",3,"src"],[1,"reviewer-details"],[1,"review-rating"],["class","fas fa-star",4,"ngFor","ngForOf"],["class","far fa-star",4,"ngFor","ngForOf"],[1,"review-date"],[1,"review-body"],[1,"far","fa-star"],[1,"selected-item-details"],[1,"text-muted"],[1,"price-quantity","d-flex","justify-content-between","align-items-center","mb-3"],[1,"price"],[1,"form-group"],["for","itemNote"],["id","itemNote","rows","3","placeholder","Any special requests or notes for this item?",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-backdrop","fade","show"]],template:function(e,s){e&1&&(n(0,"div",0),u(1,he,4,1,"div",1)(2,fe,4,1,"div",2)(3,ve,7,0,"div",3)(4,Ae,105,24,"div",4),n(5,"div",5)(6,"button",6),d(7,"i",7),r(8," Back to Restaurants "),i()()(),n(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"h5",12),r(14,"Add Item to Order"),i(),n(15,"button",13),g("click",function(){return s.closeModal()}),i()(),n(16,"div",14),u(17,De,19,5,"div",15),i(),n(18,"div",16)(19,"button",17),g("click",function(){return s.closeModal()}),r(20,"Cancel"),i(),n(21,"button",18),g("click",function(){return s.confirmAddToCart()}),r(22,"Add to Order"),i()()()()(),u(23,Te,1,0,"div",19)),e&2&&(o(),m("ngIf",s.errorMessage),o(),m("ngIf",s.successMessage),o(),m("ngIf",s.isLoading),o(),m("ngIf",!s.isLoading&&s.restaurant),o(5),E("display",s.showModal?"block":"none"),A("show",s.showModal),o(8),m("ngIf",s.selectedItem),o(6),m("ngIf",s.showModal))},dependencies:[ae,B,H,G,J,Z,te,ne,ie,re,W],styles:[".restaurant-hero[_ngcontent-%COMP%]{background-size:cover;background-position:center;color:#fff;padding:160px 0 60px;position:relative;margin-top:-76px}.restaurant-hero-content[_ngcontent-%COMP%]{padding-bottom:40px}.restaurant-hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.8rem;font-weight:800;margin-bottom:1.5rem;text-shadow:1px 1px 3px rgba(0,0,0,.3)}.restaurant-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:20px}.restaurant-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1rem;margin-right:20px}.restaurant-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#fffc}.restaurant-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#4caf50!important}.restaurant-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:30px}.restaurant-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background-color:#ffffff26;color:#fff;padding:6px 12px;font-size:.85rem;border-radius:20px;display:inline-block}.restaurant-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.restaurant-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:10px 20px;border-radius:8px;font-weight:500}.restaurant-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.restaurant-info-section[_ngcontent-%COMP%]{padding:50px 0;background-color:#fff}.restaurant-description-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:30px;box-shadow:0 5px 15px #0000000d;height:100%}.restaurant-description-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:20px;color:#333}.restaurant-description-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.7;color:#666;margin-bottom:30px}.additional-info[_ngcontent-%COMP%]   .info-group[_ngcontent-%COMP%]{margin-bottom:25px}.additional-info[_ngcontent-%COMP%]   .info-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:15px;color:#333}.cuisine-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.cuisine-tags[_ngcontent-%COMP%]   .cuisine-tag[_ngcontent-%COMP%]{background-color:rgba(var(--primary-color-rgb),.1);color:var(--primary-color);padding:6px 12px;font-size:.9rem;border-radius:20px;display:inline-block}.hours-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.hours-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed #eee}.hours-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.hours-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.95rem;color:#666}.hours-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:500}.payment-methods[_ngcontent-%COMP%]{display:flex;gap:15px}.payment-methods[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#666}.restaurant-map-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:25px;box-shadow:0 5px 15px #0000000d;height:100%}.restaurant-map-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin-bottom:15px;color:#333}.restaurant-map-card[_ngcontent-%COMP%]   .map-placeholder[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;margin-bottom:15px;box-shadow:0 3px 10px #0000001a}.restaurant-map-card[_ngcontent-%COMP%]   .map-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}.restaurant-map-card[_ngcontent-%COMP%]   .map-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:.9rem}.restaurant-map-card[_ngcontent-%COMP%]   .map-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.menu-section[_ngcontent-%COMP%]{padding:60px 0;background-color:#f9f9f9}.section-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.section-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#333;margin-bottom:0}.menu-filter[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.menu-filter[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:20px;padding:6px 16px}.menu-filter[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border-color:var(--primary-color)}.empty-menu-state[_ngcontent-%COMP%]{text-align:center;padding:50px 0}.empty-menu-state[_ngcontent-%COMP%]   .empty-state-icon[_ngcontent-%COMP%]{font-size:3rem;color:#ccc;margin-bottom:20px}.empty-menu-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px;color:#555}.empty-menu-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777;margin-bottom:0;max-width:500px;margin-left:auto;margin-right:auto}.menu-item-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;overflow:hidden;box-shadow:0 5px 15px #0000000d;height:100%;transition:all .2s ease}.menu-item-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000001a}.menu-item-image[_ngcontent-%COMP%]{height:180px;position:relative;overflow:hidden}.menu-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;will-change:transform;transition:transform .3s ease}.menu-item-card[_ngcontent-%COMP%]:hover   .menu-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.03)}.menu-item-badge[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background-color:var(--primary-color);color:#fff;padding:5px 10px;border-radius:20px;font-size:.8rem;font-weight:600;display:flex;align-items:center}.menu-item-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;margin-right:5px;font-size:.9rem}.menu-item-content[_ngcontent-%COMP%]{padding:20px}.menu-item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.menu-item-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-bottom:0;color:#333}.menu-item-price[_ngcontent-%COMP%]{font-weight:700;color:var(--primary-color);font-size:1.2rem}.menu-item-description[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-bottom:15px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;height:3em}.menu-item-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #eee;border-radius:30px;overflow:hidden}.quantity-control[_ngcontent-%COMP%]   .btn-quantity[_ngcontent-%COMP%]{border:none;background-color:#f8f9fa;color:#333;font-size:1rem;font-weight:600;width:36px;height:36px;padding:0;display:flex;align-items:center;justify-content:center;cursor:pointer}.quantity-control[_ngcontent-%COMP%]   .btn-quantity[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.quantity-control[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30px;text-align:center;font-weight:600;color:#333}.btn-add-cart[_ngcontent-%COMP%]{border-radius:30px;padding:8px 16px;font-size:.9rem;font-weight:500}.btn-add-cart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.reviews-section[_ngcontent-%COMP%]{padding:60px 0;background-color:#fff}.reviews-list[_ngcontent-%COMP%]{margin-bottom:30px}.review-card[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:12px;padding:20px;margin-bottom:20px}.review-header[_ngcontent-%COMP%]{margin-bottom:15px}.reviewer-info[_ngcontent-%COMP%]{display:flex;align-items:center}.reviewer-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden;margin-right:15px}.reviewer-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.reviewer-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:5px;color:#333}.review-rating[_ngcontent-%COMP%]{color:#ffc107;font-size:.9rem;margin-bottom:5px}.review-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2px}.review-date[_ngcontent-%COMP%]{font-size:.85rem;color:#888}.review-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#666;line-height:1.6;margin-bottom:0}.loading-container[_ngcontent-%COMP%]{min-height:400px;display:flex;align-items:center;justify-content:center;text-align:center}.spinner-wrapper[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.spinner-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-top:15px;font-size:1rem}.alert-custom[_ngcontent-%COMP%]{background-color:#f443361a;color:#f44336;border:none;border-radius:10px;padding:1rem 1.25rem;margin-bottom:1.5rem;display:flex;align-items:center}.alert-custom[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;margin-right:10px}.back-nav[_ngcontent-%COMP%]{padding:20px 0 40px}.back-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center}.back-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}@media (max-width: 991.98px){.restaurant-hero[_ngcontent-%COMP%]{padding:120px 0 60px;margin-top:0}.restaurant-hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.4rem}.section-heading[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:15px}.menu-filter[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;margin-bottom:10px;overflow-x:auto;padding-bottom:5px}}@media (max-width: 767.98px){.restaurant-hero[_ngcontent-%COMP%]{padding:130px 0 50px}.restaurant-hero-content[_ngcontent-%COMP%]{padding-bottom:20px;text-align:center}.restaurant-hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.restaurant-meta[_ngcontent-%COMP%], .restaurant-tags[_ngcontent-%COMP%], .restaurant-actions[_ngcontent-%COMP%]{justify-content:center}}.modal[_ngcontent-%COMP%]{background-color:#00000080}.modal-backdrop[_ngcontent-%COMP%]{z-index:1040}.modal[_ngcontent-%COMP%]{z-index:1050}.selected-item-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:600}.selected-item-details[_ngcontent-%COMP%]   .price-quantity[_ngcontent-%COMP%]{margin:1rem 0}.selected-item-details[_ngcontent-%COMP%]   .price-quantity[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333}.selected-item-details[_ngcontent-%COMP%]   .quantity-control[_ngcontent-%COMP%]{display:flex;align-items:center}.selected-item-details[_ngcontent-%COMP%]   .quantity-control[_ngcontent-%COMP%]   .btn-quantity[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background-color:#f0f0f0;border:1px solid #ddd;display:flex;align-items:center;justify-content:center;font-size:1rem;font-weight:700;cursor:pointer}.selected-item-details[_ngcontent-%COMP%]   .quantity-control[_ngcontent-%COMP%]   .btn-quantity[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.selected-item-details[_ngcontent-%COMP%]   .quantity-control[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{margin:0 10px;font-weight:600;min-width:20px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40}"],changeDetection:0})};export{me as RestaurantDetailComponent};
