import{a as J,c as K}from"./chunk-J5VBJD4V.js";import{c as q}from"./chunk-GNLH4ZXC.js";import{a as H}from"./chunk-6NTJENJY.js";import{a as j,c as $,f as B,h as W,n as Y,o as z,r as G}from"./chunk-WPI227MY.js";import{$ as c,Ca as P,Ea as k,F as g,G as f,Ga as F,N as S,P as o,Qa as N,R as x,S as w,Sa as V,Va as A,W as p,Ya as L,aa as M,ba as y,ea as D,fa as E,fb as Q,ga as r,ha as n,hb as R,ia as m,ib as U,la as h,ma as _,na as s,pa as T,sa as l,ta as v,ua as u,wa as I,xa as O,ya as C}from"./chunk-QDZUGKDX.js";import"./chunk-AIZVJUQQ.js";var Z=(a,e)=>({"bi-check-circle":a,"bi-exclamation-circle":e}),ee=(a,e)=>e.id;function te(a,e){if(a&1){let t=h();r(0,"div",26),l(1),r(2,"button",27),_("click",function(){g(t);let d=s();return f(d.errorMessage="")}),n()()}if(a&2){let t=s();o(),u(" ",t.errorMessage," ")}}function ie(a,e){if(a&1){let t=h();r(0,"div",28),l(1),r(2,"button",27),_("click",function(){g(t);let d=s();return f(d.successMessage="")}),n()()}if(a&2){let t=s();o(),u(" ",t.successMessage," ")}}function ne(a,e){a&1&&(r(0,"div",29)(1,"div",30)(2,"span",31),l(3,"Loading..."),n()()())}function re(a,e){a&1&&(r(0,"p",75),m(1,"i",19),l(2," You can modify your order items while the order is open. "),n())}function ae(a,e){if(a&1&&(r(0,"p",76),m(1,"i",77),l(2),n()),a&2){let t=s(2);o(2),u(" Order closed at: ",t.formatDate(t.order==null?null:t.order.closedAt)," ")}}function oe(a,e){if(a&1&&(r(0,"p",78)(1,"span",79),m(2,"i",39),l(3),n()()),a&2){let t=s(2);o(),c("ngClass",t.getPaymentStatusClass()),o(),c("ngClass",P(3,Z,t.isPaid(),t.isUnpaid())),o(),u(" ",t.getPaymentStatusText()," ")}}function le(a,e){if(a&1){let t=h();r(0,"button",80),_("click",function(){g(t);let d=s(2);return f(d.closeOrder())}),m(1,"i",77),l(2," Close Order "),n()}}function de(a,e){a&1&&(r(0,"div",81),m(1,"i",19),l(2," You haven't ordered anything yet. "),n())}function se(a,e){if(a&1&&(r(0,"p",96),m(1,"i",97),l(2),n()),a&2){let t=s(2).$implicit;o(2),u("",t.note," ")}}function me(a,e){if(a&1){let t=h();r(0,"div",98)(1,"button",99),_("click",function(){g(t);let d=s(2).$implicit,b=s(3);return f(b.startEditItem(d))}),m(2,"i",100),n(),r(3,"button",101),_("click",function(){g(t);let d=s(2).$implicit,b=s(3);return f(b.deleteItem(d))}),m(4,"i",102),n()()}}function ce(a,e){if(a&1&&(r(0,"div",86)(1,"div",87)(2,"div",88)(3,"span",89),l(4),n()(),r(5,"div")(6,"h6",90),l(7),n(),r(8,"p",91),l(9),n(),p(10,se,3,1,"p",92),n()(),r(11,"div",93)(12,"h6",94),l(13),n(),p(14,me,5,0,"div",95),n()()),a&2){let t,i=s().$implicit,d=s(3);o(4),u(" ",i.quantity," "),o(3),v(i.menuItemName),o(2),u(" $",(t=i.price==null?null:i.price.toFixed(2))!==null&&t!==void 0?t:"0.00"," each "),o(),c("ngIf",i.note),o(3),u("$",(i.total||i.itemTotal||i.price*i.quantity).toFixed(2),""),o(),c("ngIf",d.canModifyItems())}}function ue(a,e){if(a&1){let t=h();r(0,"div",103)(1,"div",104)(2,"h6",105),m(3,"i",106),l(4),n(),r(5,"button",107),_("click",function(){g(t);let d=s(4);return f(d.cancelEdit())}),n()(),r(6,"div",108)(7,"div",109)(8,"label",110),l(9,"Quantity"),n(),r(10,"div",111)(11,"button",112),_("click",function(){g(t);let d=s(4);return f(d.decreaseQuantity())}),m(12,"i",113),n(),r(13,"input",114),C("ngModelChange",function(d){g(t);let b=s(4);return O(b.editQuantity,d)||(b.editQuantity=d),f(d)}),n(),r(14,"button",112),_("click",function(){g(t);let d=s(4);return f(d.increaseQuantity())}),m(15,"i",115),n()(),r(16,"div",116),l(17," Min: 1 \xB7 Max: 10 "),n()(),r(18,"div",117)(19,"div",118)(20,"label",119),l(21,"Special Instructions"),n(),r(22,"small",120),l(23,"Optional"),n()(),r(24,"textarea",121),C("ngModelChange",function(d){g(t);let b=s(4);return O(b.editNote,d)||(b.editNote=d),f(d)}),l(25,"                        "),n()()(),r(26,"div",122)(27,"span",123),l(28),k(29,"number"),n(),r(30,"div")(31,"button",124),_("click",function(){g(t);let d=s(4);return f(d.cancelEdit())}),m(32,"i",22),l(33,"Cancel "),n(),r(34,"button",125),_("click",function(){g(t);let d=s(4);return f(d.saveItemChanges())}),m(35,"i",126),l(36,"Save Changes "),n()()()()}if(a&2){let t=s().$implicit,i=s(3);o(4),u(" Editing: ",t.menuItemName," "),o(9),I("ngModel",i.editQuantity),o(11),I("ngModel",i.editNote),o(4),u(" Total: $",F(29,4,((i.editingItem==null?null:i.editingItem.price)||0)*i.editQuantity,"1.2-2")," ")}}function pe(a,e){if(a&1&&(r(0,"li",83),p(1,ce,15,6,"div",84)(2,ue,37,7,"div",85),n()),a&2){let t=e.$implicit,i=s(3);o(),c("ngIf",(i.editingItem==null?null:i.editingItem.id)!==t.id),o(),c("ngIf",(i.editingItem==null?null:i.editingItem.id)===t.id)}}function _e(a,e){if(a&1&&(r(0,"ul",82),D(1,pe,3,2,"li",83,ee),n()),a&2){let t=s(2);o(),E(t.myOrderItems)}}function ge(a,e){if(a&1&&(r(0,"div",127)(1,"div",86)(2,"span",120),l(3),n(),r(4,"span",128),l(5),n()()()),a&2){let t=s(2);o(3),u("",t.myOrderItems.length," item(s) in your order"),o(2),u("Subtotal: $",(t.order.subtotal||t.calculateSubtotal()).toFixed(2),"")}}function fe(a,e){if(a&1&&(r(0,"span",62),l(1),n()),a&2){let t,i=s(2);o(),u("$",(t=i.order.deliveryFeeShare==null?null:i.order.deliveryFeeShare.toFixed(2))!==null&&t!==void 0?t:"0.00","")}}function be(a,e){a&1&&(r(0,"span",129),l(1,"Calculated when order closes"),n())}function he(a,e){if(a&1&&(r(0,"div",130),m(1,"i",131),l(2),n()),a&2){let t=s(2);o(2),u(" ",t.getDeliveryFeeNote()," ")}}function ve(a,e){if(a&1&&(r(0,"p",132),m(1,"i",133),r(2,"a",134),l(3),n()()),a&2){let t=s(2);o(2),T("href","mailto:",t.order.managerEmail,"",S),o(),v(t.order.managerEmail)}}function xe(a,e){if(a&1&&(r(0,"div")(1,"div",32)(2,"div",33)(3,"div",34)(4,"div")(5,"h2",35),m(6,"i",36),l(7," Order Details "),n(),r(8,"p",37)(9,"span",38),m(10,"i",39),l(11),n(),r(12,"span",40),l(13),n()(),r(14,"p",41),m(15,"i",42),l(16),n(),p(17,re,3,0,"p",43)(18,ae,3,1,"p",44)(19,oe,4,6,"p",45),n(),r(20,"div")(21,"button",46),m(22,"i",47),l(23," Back to Orders "),n(),p(24,le,3,0,"button",48),n()()()(),r(25,"div",49)(26,"div",50)(27,"div",51)(28,"div",52)(29,"h5",53),m(30,"i",54),l(31,"Your Order Items "),n()(),r(32,"div",55),p(33,de,3,0,"div",56)(34,_e,3,0,"ul",57),n(),p(35,ge,6,2,"div",58),n()(),r(36,"div",59)(37,"div",51)(38,"div",52)(39,"h5",53),m(40,"i",60),l(41,"Order Summary "),n()(),r(42,"div",33)(43,"div",61)(44,"span",62),l(45,"Subtotal"),n(),r(46,"span",62),l(47),n()(),r(48,"div",61)(49,"span",62),l(50,"Delivery Fee"),n(),p(51,fe,2,1,"span",63)(52,be,2,0,"span",64),n(),m(53,"hr",65),r(54,"div",66)(55,"span",67),l(56,"Total"),n(),r(57,"span",68),l(58),n()(),p(59,he,3,1,"div",69),n()(),r(60,"div",70)(61,"div",52)(62,"h5",53),m(63,"i",71),l(64,"Manager "),n()(),r(65,"div",33)(66,"p",72),m(67,"i",73),r(68,"span",62),l(69),n()(),p(70,ve,4,3,"p",74),n()()()()()),a&2){let t=s();o(9),y("bg-success",t.isOrderOpen())("bg-secondary",!t.isOrderOpen()),o(),c("ngClass",t.isOrderOpen()?"bi-clock":"bi-lock"),o(),u(" ",t.isOrderOpen()?"Open":"Closed"," "),o(2),v(t.order.restaurantName),o(3),u(" ",t.formatDate(t.order.orderDate)," "),o(),c("ngIf",t.isOrderOpen()),o(),c("ngIf",!t.isOrderOpen()&&(t.order==null?null:t.order.closedAt)),o(),c("ngIf",t.hasPaymentStatus()),o(5),c("ngIf",t.isOrderOpen()&&(t.authService.isAdmin||t.authService.isManager)),o(9),c("ngIf",t.myOrderItems.length===0),o(),c("ngIf",t.myOrderItems.length>0),o(),c("ngIf",t.myOrderItems.length>0),o(12),u("$",(t.order.subtotal||t.calculateSubtotal()).toFixed(2),""),o(4),c("ngIf",!t.isOrderOpen()),o(),c("ngIf",t.isOrderOpen()),o(6),u("$",(t.order.total||t.calculateTotal()).toFixed(2),""),o(),c("ngIf",t.getDeliveryFeeNote()),o(10),v(t.order.managerName),o(),c("ngIf",t.order.managerEmail)}}function ye(a,e){if(a&1&&(r(0,"p",135),l(1,"Are you sure you want to remove "),r(2,"strong"),l(3),n(),l(4," from your order?"),n()),a&2){let t=s();o(3),v(t.itemToDelete==null?null:t.itemToDelete.menuItemName)}}function Ie(a,e){a&1&&m(0,"div",136)}var X=class a{constructor(e,t,i,d){this.route=e;this.router=t;this.orderService=i;this.authService=d;this.orderId=this.route.snapshot.paramMap.get("id")||""}orderId;order=null;myOrderItems=[];isLoading=!1;errorMessage="";successMessage="";editingItem=null;editQuantity=1;editNote="";itemToDelete=null;showDeleteModal=!1;OrderStatus=J;ngOnInit(){if(!this.authService.isLoggedIn){this.router.navigate(["/auth/login"]);return}if(!this.orderId){this.router.navigate(["/orders"]);return}this.loadOrderDetails()}loadOrderDetails(){this.isLoading=!0,this.errorMessage="",this.orderService.getById(this.orderId).subscribe({next:e=>{console.log("Order details response:",e),e.restaurantName!==void 0?(this.order=this.processOrderResponse(e),e.items&&Array.isArray(e.items)&&e.items.length>0||e.userItems&&Array.isArray(e.userItems)&&e.userItems.length>0?(this.myOrderItems=this.processOrderItems(e),this.isLoading=!1):this.loadMyOrderItems()):(this.order=this.convertToNewFormat(e),this.loadMyOrderItems())},error:e=>{this.isLoading=!1,this.errorMessage=e.message||"Failed to load order details"}})}processOrderResponse(e){return{id:e.id||e.orderId,orderId:e.orderId||e.id,restaurantName:e.restaurantName,orderDate:e.orderDate,closedAt:e.closedAt,status:e.status||e.orderStatus,orderStatus:e.orderStatus||e.status,managerName:e.managerName,managerEmail:e.managerEmail,deliveryFee:e.deliveryFee,deliveryFeeShare:e.deliveryFeeShare,userItems:e.userItems,items:e.items,userPaymentStatus:e.userPaymentStatus,userTotal:e.userTotal||e.total,subtotal:e.subtotal,total:e.total||e.userTotal}}processOrderItems(e){return(e.items||e.userItems||[]).map(i=>({id:i.id,menuItemId:i.menuItemId,menuItemName:i.menuItemName,menuItemDescription:i.menuItemDescription,price:i.price,quantity:i.quantity,note:i.note,total:i.total||i.itemTotal,itemTotal:i.itemTotal||i.total,userId:i.userId,userName:i.userName,canBeDeleted:this.isOrderOpen()}))}convertToNewFormat(e){return{id:e.id||"",restaurantName:e.restaurant?.name||"Unknown Restaurant",orderDate:e.orderDate?.toString()||new Date().toISOString(),closedAt:e.closedAt?.toString()||null,status:e.status||1,orderStatus:e.status||1,managerName:e.manager?.name||"Unknown Manager",managerEmail:e.manager?.email,deliveryFee:e.restaurant?.deliveryFee||0,deliveryFeeShare:0,userItems:[],items:[],userPaymentStatus:0,userTotal:0,subtotal:0,total:0}}loadMyOrderItems(){this.orderService.getMyOrderItems(this.orderId).subscribe({next:e=>{console.log("My order items response:",e),e&&e.items&&Array.isArray(e.items)?(this.myOrderItems=this.processOrderItems(e),this.order&&e.subtotal!==void 0&&(this.order.subtotal=e.subtotal,this.order.deliveryFeeShare=e.deliveryFeeShare,this.order.total=e.total)):Array.isArray(e)?(this.myOrderItems=e.map(t=>({id:t.id||"",menuItemId:t.menuItemId,menuItemName:t.menuItem?.name||"Unknown Item",price:t.menuItem?.price||0,quantity:t.quantity||1,note:t.note,total:(t.menuItem?.price||0)*(t.quantity||1),canBeDeleted:this.isOrderOpen()})),this.order&&(this.order.subtotal=this.calculateSubtotal(),this.order.total=this.calculateTotal())):this.myOrderItems=[],this.isLoading=!1},error:e=>{this.isLoading=!1,this.errorMessage=e.message||"Failed to load your order items"}})}closeOrder(){this.order&&(this.authService.isAdmin||this.authService.isManager)&&(this.isLoading=!0,this.errorMessage="",this.orderService.closeOrder(this.orderId).subscribe({next:()=>{this.successMessage="Order closed successfully",this.loadOrderDetails()},error:e=>{this.isLoading=!1,this.errorMessage=e.message||"Failed to close the order"}}))}isOrderOpen(){return(this.order?.status||this.order?.orderStatus)===1}canModifyItems(){return this.isOrderOpen()}startEditItem(e){if(!this.canModifyItems()){this.errorMessage="Cannot modify items in a closed order";return}this.editingItem=e,this.editQuantity=e.quantity,this.editNote=e.note||""}cancelEdit(){this.editingItem=null}saveItemChanges(){if(!this.editingItem||!this.editingItem.id)return;if(!this.canModifyItems()){this.errorMessage="Cannot modify items in a closed order",this.editingItem=null;return}this.isLoading=!0,this.errorMessage="";let e={quantity:this.editQuantity,note:this.editNote};this.orderService.updateOrderItem(this.editingItem.id,e).subscribe({next:()=>{this.successMessage="Item updated successfully";let t=this.editingItem?.id;this.editingItem=null;let i=this.myOrderItems.findIndex(d=>d.id===t);if(i!==-1){this.myOrderItems[i].quantity=this.editQuantity,this.myOrderItems[i].note=this.editNote;let d=this.myOrderItems[i].price,b=this.editQuantity*d;this.myOrderItems[i].total=b,this.myOrderItems[i].itemTotal=b,this.order&&(this.order.subtotal=this.calculateSubtotal(),this.order.total=this.calculateTotal())}this.isLoading=!1},error:t=>{this.isLoading=!1,this.errorMessage=t.message||"Failed to update item"}})}deleteItem(e){if(!this.canModifyItems()){this.errorMessage="Cannot remove items from a closed order";return}if(!e.id){this.errorMessage="Invalid item ID";return}this.itemToDelete=e,this.showDeleteModal=!0}confirmDelete(){!this.itemToDelete||!this.itemToDelete.id||(this.isLoading=!0,this.errorMessage="",this.orderService.deleteOrderItem(this.itemToDelete.id).subscribe({next:()=>{this.successMessage="Item removed successfully",this.myOrderItems=this.myOrderItems.filter(e=>e.id!==this.itemToDelete?.id),this.order&&(this.order.subtotal=this.calculateSubtotal(),this.order.total=this.calculateTotal()),this.isLoading=!1,this.closeDeleteModal()},error:e=>{this.isLoading=!1,this.errorMessage=e.message||"Failed to remove item",this.closeDeleteModal()}}))}closeDeleteModal(){this.showDeleteModal=!1,this.itemToDelete=null}calculateSubtotal(){return this.myOrderItems.reduce((e,t)=>e+(t.price||0)*(t.quantity||0),0)}calculateTotal(){if(this.order?.total)return this.order.total;let e=this.calculateSubtotal(),t=this.order?.deliveryFeeShare||0;return e+t}formatDate(e){return e?new Date(e).toLocaleString():"N/A"}getPaymentStatusText(){if(!this.order)return"";switch(this.order.userPaymentStatus){case 1:return"Unpaid";case 2:return"Paid";default:return""}}getPaymentStatusClass(){if(!this.order)return"";switch(this.order.userPaymentStatus){case 1:return"bg-danger";case 2:return"bg-success";default:return""}}decreaseQuantity(){this.editQuantity>1&&this.editQuantity--}increaseQuantity(){this.editQuantity<10&&this.editQuantity++}getDeliveryFeeNote(){return this.order?this.order.status===1?"Delivery fee will be calculated when the order is closed":this.order.deliveryFeeShare?`Your share of the delivery fee: $${this.order.deliveryFeeShare.toFixed(2)}`:"":""}hasPaymentStatus(){return!!this.order&&typeof this.order.userPaymentStatus=="number"&&this.order.userPaymentStatus>0}isPaid(){return!!this.order&&this.order.userPaymentStatus===2}isUnpaid(){return!!this.order&&this.order.userPaymentStatus===1}static \u0275fac=function(t){return new(t||a)(x(Q),x(R),x(K),x(q))};static \u0275cmp=w({type:a,selectors:[["app-order-detail"]],decls:32,vars:11,consts:[[1,"container","py-4"],["class","alert alert-danger alert-dismissible fade show",4,"ngIf"],["class","alert alert-success alert-dismissible fade show",4,"ngIf"],["class","text-center my-5",4,"ngIf"],[4,"ngIf"],["tabindex","-1","role","dialog",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","shadow"],[1,"modal-header","bg-danger","text-white"],[1,"modal-title"],[1,"bi","bi-exclamation-triangle","me-2"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],[1,"d-flex","align-items-center","mb-3"],[1,"text-danger","me-3"],[1,"bi","bi-trash","fs-1"],[1,"mb-1"],["class","mb-0",4,"ngIf"],[1,"alert","alert-warning"],[1,"bi","bi-info-circle","me-2"],[1,"modal-footer","bg-light"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-lg","me-1"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"bi","bi-trash","me-1"],["class","modal-backdrop fade show",4,"ngIf"],[1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button",1,"btn-close",3,"click"],[1,"alert","alert-success","alert-dismissible","fade","show"],[1,"text-center","my-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"card","mb-4","shadow-sm","bg-light"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-start"],[1,"mb-3","fw-bold","d-flex","align-items-center"],[1,"bi","bi-bag","me-2","text-primary"],[1,"lead","mb-1"],[1,"badge","rounded-pill","px-3","py-2"],[1,"bi",3,"ngClass"],[1,"ms-2","fw-bold"],[1,"text-muted","d-flex","align-items-center"],[1,"bi","bi-calendar3","me-2"],["class","text-success small",4,"ngIf"],["class","text-muted small",4,"ngIf"],["class","mt-2",4,"ngIf"],["routerLink","/orders",1,"btn","btn-secondary","me-2"],[1,"bi","bi-arrow-left","me-2"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"row","mb-5"],[1,"col-md-8"],[1,"card","shadow"],[1,"card-header","bg-white","border-bottom"],[1,"mb-0","text-primary","fw-bold"],[1,"bi","bi-cart3","me-2"],[1,"card-body","p-0"],["class","alert alert-info m-3 mb-0",4,"ngIf"],["class","list-group list-group-flush",4,"ngIf"],["class","card-footer bg-white",4,"ngIf"],[1,"col-md-4"],[1,"bi","bi-receipt","me-2"],[1,"d-flex","justify-content-between","mb-3"],[1,"fw-medium"],["class","fw-medium",4,"ngIf"],["class","text-muted fst-italic",4,"ngIf"],[1,"my-3"],[1,"d-flex","justify-content-between","fw-bold"],[1,"fs-5"],[1,"fs-5","text-primary"],["class","alert alert-info mt-4 mb-0 py-2 small",4,"ngIf"],[1,"card","mt-3","shadow"],[1,"bi","bi-person-badge","me-2"],[1,"d-flex","align-items-center","mb-2"],[1,"bi","bi-person","me-2","text-muted"],["class","d-flex align-items-center mb-0",4,"ngIf"],[1,"text-success","small"],[1,"text-muted","small"],[1,"bi","bi-lock","me-2"],[1,"mt-2"],[1,"badge","rounded-pill","px-3","py-2",3,"ngClass"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-info","m-3","mb-0"],[1,"list-group","list-group-flush"],[1,"list-group-item","py-3","border-bottom"],["class","d-flex justify-content-between align-items-center",4,"ngIf"],["class","edit-item-form p-3 border rounded bg-light mt-2 mb-1",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-start"],[1,"me-3","mt-1"],[1,"badge","rounded-pill","bg-light","text-dark","px-2","py-2"],[1,"mb-1","fw-bold"],[1,"text-muted","mb-0","small"],["class","text-muted mb-0 small fst-italic",4,"ngIf"],[1,"text-end"],[1,"text-primary","mb-1","fw-bold"],["class","btn-group btn-group-sm mt-1",4,"ngIf"],[1,"text-muted","mb-0","small","fst-italic"],[1,"bi","bi-chat-left-text","me-1"],[1,"btn-group","btn-group-sm","mt-1"],["title","Edit item",1,"btn","btn-outline-primary","rounded-start",3,"click"],[1,"bi","bi-pencil"],["title","Remove item",1,"btn","btn-outline-danger","rounded-end",3,"click"],[1,"bi","bi-trash"],[1,"edit-item-form","p-3","border","rounded","bg-light","mt-2","mb-1"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fw-bold","mb-0","d-flex","align-items-center"],[1,"bi","bi-pencil-square","text-primary","me-2"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"row"],[1,"col-md-5","mb-3"],["for","editQuantity",1,"form-label","fw-medium"],[1,"input-group"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-dash-lg"],["type","number","id","editQuantity","min","1","max","10",1,"form-control","text-center","fw-bold",3,"ngModelChange","ngModel"],[1,"bi","bi-plus-lg"],[1,"form-text","text-center","mt-1"],[1,"col-md-7"],[1,"d-flex","justify-content-between"],["for","editNote",1,"form-label","fw-medium"],[1,"text-muted"],["id","editNote","rows","2","placeholder","Any special requests or notes for this item?",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","mt-3"],[1,"text-primary","fw-bold","fs-5"],[1,"btn","btn-outline-secondary","me-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-check-lg","me-1"],[1,"card-footer","bg-white"],[1,"fw-bold"],[1,"text-muted","fst-italic"],[1,"alert","alert-info","mt-4","mb-0","py-2","small"],[1,"bi","bi-info-circle","me-1"],[1,"d-flex","align-items-center","mb-0"],[1,"bi","bi-envelope","me-2","text-muted"],[1,"text-decoration-none",3,"href"],[1,"mb-0"],[1,"modal-backdrop","fade","show"]],template:function(t,i){t&1&&(r(0,"div",0),p(1,te,3,1,"div",1)(2,ie,3,1,"div",2)(3,ne,4,0,"div",3)(4,xe,71,22,"div",4),n(),r(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h5",9),m(10,"i",10),l(11," Confirm Deletion "),n(),r(12,"button",11),_("click",function(){return i.closeDeleteModal()}),n()(),r(13,"div",12)(14,"div",13)(15,"div",14),m(16,"i",15),n(),r(17,"div")(18,"h5",16),l(19,"Remove Item From Order"),n(),p(20,ye,5,1,"p",17),n()(),r(21,"div",18),m(22,"i",19),l(23," This action cannot be undone. You will have to add the item again if you change your mind. "),n()(),r(24,"div",20)(25,"button",21),_("click",function(){return i.closeDeleteModal()}),m(26,"i",22),l(27,"Cancel "),n(),r(28,"button",23),_("click",function(){return i.confirmDelete()}),m(29,"i",24),l(30,"Yes, Remove Item "),n()()()()(),p(31,Ie,1,0,"div",25)),t&2&&(o(),c("ngIf",i.errorMessage),o(),c("ngIf",i.successMessage),o(),c("ngIf",i.isLoading),o(),c("ngIf",!i.isLoading&&i.order),o(),M("display",i.showDeleteModal?"block":"none"),y("show",i.showDeleteModal),o(15),c("ngIf",i.itemToDelete),o(8),c("disabled",i.isLoading),o(3),c("ngIf",i.showDeleteModal))},dependencies:[H,N,V,U,j,W,$,z,Y,B,A,G,L],styles:[".edit-item-form[_ngcontent-%COMP%]{background-color:#f9f9ff;border:1px solid rgba(0,123,255,.2)!important;border-radius:8px;box-shadow:0 2px 6px #00000014;transition:all .2s ease-in-out}.edit-item-form[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{opacity:.5}.edit-item-form[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{opacity:1}.edit-item-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#80bdff;box-shadow:0 0 0 .2rem #007bff40}.edit-item-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#0d6efd;border-color:#0d6efd}.edit-item-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b5ed7;border-color:#0a58ca}.edit-item-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{font-weight:600}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.list-group-item[_ngcontent-%COMP%]{transition:all .3s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.badge[_ngcontent-%COMP%]{padding:.5rem .75rem}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 .125rem .25rem #00000013}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid rgba(0,0,0,.125)}.modal.show[_ngcontent-%COMP%]{opacity:1;transition:opacity .15s linear}.modal[_ngcontent-%COMP%]:not(.show){opacity:0;transition:opacity .15s linear}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{transform:translate(0);transition:transform .3s ease-out;border:none;border-radius:8px;overflow:hidden}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close-white[_ngcontent-%COMP%]{filter:invert(1) grayscale(100%) brightness(200%)}.modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .bi-trash[_ngcontent-%COMP%]{opacity:.8}.modal-backdrop[_ngcontent-%COMP%]{opacity:.5;transition:opacity .15s linear}"]})};export{X as OrderDetailComponent};
