import{a as U,b as R,c as H}from"./chunk-CZ3E6OE2.js";import{c as j}from"./chunk-GNLH4ZXC.js";import{r as $}from"./chunk-WPI227MY.js";import{$ as u,F as v,G as f,Ia as k,P as d,Qa as T,R as P,Ra as A,S as w,Sa as D,W as g,Ya as N,ga as i,ha as t,hb as V,ia as y,ib as L,la as h,ma as x,na as m,ra as F,sa as r,ta as O,ua as p}from"./chunk-QDZUGKDX.js";import{a as C,b as E}from"./chunk-AIZVJUQQ.js";function z(s,n){if(s&1){let e=h();i(0,"div",12),r(1),i(2,"button",13),x("click",function(){v(e);let o=m();return f(o.errorMessage="")}),t()()}if(s&2){let e=m();d(),p(" ",e.errorMessage," ")}}function Y(s,n){if(s&1){let e=h();i(0,"div",14),r(1),i(2,"button",13),x("click",function(){v(e);let o=m();return f(o.successMessage="")}),t()()}if(s&2){let e=m();d(),p(" ",e.successMessage," ")}}function B(s,n){s&1&&(i(0,"div",15)(1,"div",16)(2,"span",17),r(3,"Loading..."),t()()())}function Q(s,n){s&1&&y(0,"span",30)}function G(s,n){if(s&1){let e=h();i(0,"div",18)(1,"div",19)(2,"div",20)(3,"h4",21),r(4,"Confirm Order Closure"),t(),i(5,"button",13),x("click",function(){v(e);let o=m();return f(o.cancelCloseOrder())}),t()(),i(6,"div",22)(7,"div",23),y(8,"i",24),r(9," Are you sure you want to close this order? "),t(),i(10,"p"),r(11,"This will finalize the order and prevent any further modifications."),t(),i(12,"div",25)(13,"p")(14,"strong"),r(15,"Order ID:"),t(),r(16),t(),i(17,"p")(18,"strong"),r(19,"Restaurant:"),t(),r(20),t(),i(21,"p")(22,"strong"),r(23,"Date:"),t(),r(24),t()()(),i(25,"div",26)(26,"button",27),x("click",function(){v(e);let o=m();return f(o.cancelCloseOrder())}),r(27,"Cancel"),t(),i(28,"button",28),x("click",function(){v(e);let o=m();return f(o.confirmCloseOrder())}),g(29,Q,1,0,"span",29),r(30," Close Order "),t()()()()}if(s&2){let e=m();d(16),p(" ",e.orderToClose.id,""),d(4),p(" ",(e.orderToClose.restaurant==null?null:e.orderToClose.restaurant.name)||"N/A",""),d(4),p(" ",e.formatDate(e.orderToClose.orderDate),""),d(4),u("disabled",e.isProcessingClose),d(),u("ngIf",e.isProcessingClose)}}function J(s,n){s&1&&(i(0,"div",36)(1,"div",16)(2,"span",17),r(3,"Loading details..."),t()()())}function K(s,n){if(s&1&&(i(0,"p")(1,"strong"),r(2,"Closed At:"),t(),r(3),t()),s&2){let e=m(3);d(3),p(" ",e.formatDate(e.selectedOrder.closedAt)," ")}}function X(s,n){if(s&1){let e=h();i(0,"button",62),x("click",function(){v(e);let o=m().$implicit,_=m(4);return f(_.updatePaymentStatus(_.selectedOrder.id,o,_.PaymentStatus.Paid))}),y(1,"i",63),r(2," Mark as Paid "),t()}if(s&2){let e=m(5);u("disabled",e.processingPayment)}}function Z(s,n){if(s&1){let e=h();i(0,"button",64),x("click",function(){v(e);let o=m().$implicit,_=m(4);return f(_.updatePaymentStatus(_.selectedOrder.id,o,_.PaymentStatus.Unpaid))}),y(1,"i",65),r(2," Mark as Unpaid "),t()}if(s&2){let e=m(5);u("disabled",e.processingPayment)}}function ee(s,n){if(s&1&&(i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td"),r(8),t(),i(9,"td"),r(10),t()()),s&2){let e=n.$implicit;d(2),O((e.menuItem==null?null:e.menuItem.name)||"Unknown Item"),d(2),p("$",(e.menuItem==null||e.menuItem.price==null?null:e.menuItem.price.toFixed(2))||"0.00",""),d(2),O(e.quantity),d(2),p("$",(((e.menuItem==null?null:e.menuItem.price)||0)*e.quantity).toFixed(2),""),d(2),O(e.note||"-")}}function te(s,n){if(s&1&&(i(0,"tr",66)(1,"td",67),r(2,"Delivery Fee (per user):"),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6,"-"),t()()),s&2){let e=m().$implicit,a=m(4);d(4),p("$",a.selectedOrder.userItems[e].deliveryFee.toFixed(2),"")}}function ne(s,n){if(s&1&&(i(0,"div",51)(1,"div",52)(2,"div",53)(3,"h4",45),r(4),t(),i(5,"div")(6,"span",54),r(7),t(),g(8,X,3,1,"button",55)(9,Z,3,1,"button",56),t()(),i(10,"div",46)(11,"div",57)(12,"table",58)(13,"thead")(14,"tr")(15,"th"),r(16,"Item"),t(),i(17,"th"),r(18,"Price"),t(),i(19,"th"),r(20,"Quantity"),t(),i(21,"th"),r(22,"Total"),t(),i(23,"th"),r(24,"Note"),t()()(),i(25,"tbody"),g(26,ee,11,5,"tr",59)(27,te,7,1,"tr",60),t(),i(28,"tfoot")(29,"tr")(30,"th",61),r(31,"Subtotal:"),t(),i(32,"th"),r(33),t(),y(34,"th"),t()()()()()()()),s&2){let e=n.$implicit,a=m(4);d(4),O(a.selectedOrder.userItems[e].userName),d(2),u("ngClass",a.selectedOrder.userItems[e].isPaid?"bg-success":"bg-danger"),d(),p(" ",a.selectedOrder.userItems[e].isPaid?"Paid":"Unpaid"," "),d(),u("ngIf",a.selectedOrder.status===a.OrderStatus.Closed&&!a.selectedOrder.userItems[e].isPaid),d(),u("ngIf",a.selectedOrder.status===a.OrderStatus.Closed&&a.selectedOrder.userItems[e].isPaid),d(17),u("ngForOf",a.selectedOrder.userItems[e].items),d(),u("ngIf",a.selectedOrder.userItems[e].deliveryFee>0),d(6),p("$",a.selectedOrder.userItems[e].totalAmount.toFixed(2),"")}}function ie(s,n){if(s&1&&(i(0,"tr")(1,"th"),r(2,"Delivery Fee:"),t(),i(3,"td",49),r(4),t()()),s&2){let e=m(4);d(4),p("$",e.selectedOrder.deliveryFee.toFixed(2),"")}}function re(s,n){if(s&1&&(i(0,"div"),g(1,ne,35,8,"div",42),i(2,"div",43)(3,"div",44)(4,"h4",45),r(5,"Order Summary"),t()(),i(6,"div",46)(7,"div",38)(8,"div",47)(9,"table",48)(10,"tbody")(11,"tr")(12,"th"),r(13,"Items Total:"),t(),i(14,"td",49),r(15),t()(),g(16,ie,5,1,"tr",8),i(17,"tr",50)(18,"th"),r(19,"Total Amount:"),t(),i(20,"td",49),r(21),t()()()()()()()()()),s&2){let e=m(3);d(),u("ngForOf",e.Object.keys(e.selectedOrder.userItems)),d(14),p("$",(e.selectedOrder.totalAmount-(e.selectedOrder.deliveryFee||0)).toFixed(2),""),d(),u("ngIf",e.selectedOrder.deliveryFee),d(5),p("$",e.selectedOrder.totalAmount==null?null:e.selectedOrder.totalAmount.toFixed(2),"")}}function ae(s,n){s&1&&(i(0,"div",68),r(1," No items found for this order. "),t())}function se(s,n){if(s&1&&(i(0,"div")(1,"div",37)(2,"div",38)(3,"div",39)(4,"p")(5,"strong"),r(6,"Order ID:"),t(),r(7),t(),i(8,"p")(9,"strong"),r(10,"Restaurant:"),t(),r(11),t()(),i(12,"div",39)(13,"p")(14,"strong"),r(15,"Date:"),t(),r(16),t(),g(17,K,4,1,"p",8),t()()(),i(18,"h3",40),r(19,"Order Items by User"),t(),g(20,re,22,4,"div",41)(21,ae,2,0,"ng-template",null,0,k),t()),s&2){let e=F(22),a=m(2);d(7),p(" ",a.selectedOrder.id,""),d(4),p(" ",(a.selectedOrder.restaurant==null?null:a.selectedOrder.restaurant.name)||"N/A",""),d(5),p(" ",a.formatDate(a.selectedOrder.orderDate),""),d(),u("ngIf",a.selectedOrder.status===a.OrderStatus.Closed),d(3),u("ngIf",a.selectedOrder.userItems&&a.Object.keys(a.selectedOrder.userItems).length>0)("ngIfElse",e)}}function de(s,n){if(s&1){let e=h();i(0,"button",69),x("click",function(){v(e);let o=m(2);return f(o.showCloseOrderConfirmation(o.selectedOrder))}),r(1," Close Order "),t()}}function oe(s,n){if(s&1){let e=h();i(0,"div",31)(1,"div",32)(2,"div",20)(3,"h2",21),r(4," Order Details "),i(5,"span",33),r(6),t()(),i(7,"button",13),x("click",function(){v(e);let o=m();return f(o.clearSelectedOrder())}),t()(),i(8,"div",22),g(9,J,4,0,"div",34)(10,se,23,6,"div",8),t(),i(11,"div",26)(12,"button",27),x("click",function(){v(e);let o=m();return f(o.clearSelectedOrder())}),r(13,"Close"),t(),g(14,de,2,0,"button",35),t()()()}if(s&2){let e=m();d(5),u("ngClass",e.getOrderStatusClass(e.selectedOrder.status)),d(),p(" ",e.getOrderStatusName(e.selectedOrder.status)," "),d(3),u("ngIf",e.isLoadingDetails),d(),u("ngIf",!e.isLoadingDetails),d(4),u("ngIf",e.selectedOrder.status===e.OrderStatus.Open)}}function le(s,n){s&1&&(i(0,"div",68),r(1," No active orders found. "),t())}function me(s,n){if(s&1){let e=h();i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td")(8,"div",76)(9,"button",77),x("click",function(){let o=v(e).$implicit,_=m(3);return f(_.viewOrderDetails(o))}),y(10,"i",78),r(11," View Details "),t(),i(12,"button",79),x("click",function(){let o=v(e).$implicit,_=m(3);return f(_.showCloseOrderConfirmation(o))}),y(13,"i",80),r(14," Close Order "),t()()()()}if(s&2){let e=n.$implicit,a=m(3);d(2),O(e.id),d(2),O((e.restaurant==null?null:e.restaurant.name)||"N/A"),d(2),O(a.formatDate(e.orderDate))}}function ce(s,n){if(s&1&&(i(0,"div",57)(1,"table",75)(2,"thead")(3,"tr")(4,"th"),r(5,"Order ID"),t(),i(6,"th"),r(7,"Restaurant"),t(),i(8,"th"),r(9,"Date"),t(),i(10,"th"),r(11,"Actions"),t()()(),i(12,"tbody"),g(13,me,15,3,"tr",59),t()()()),s&2){let e=m(2);d(13),u("ngForOf",e.activeOrders)}}function ue(s,n){s&1&&(i(0,"div",68),r(1," No order history found. "),t())}function _e(s,n){if(s&1){let e=h();i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td"),r(8),t(),i(9,"td")(10,"button",77),x("click",function(){let o=v(e).$implicit,_=m(3);return f(_.viewOrderDetails(o))}),y(11,"i",78),r(12," View Details "),t()()()}if(s&2){let e=n.$implicit,a=m(3);d(2),O(e.id),d(2),O((e.restaurant==null?null:e.restaurant.name)||"N/A"),d(2),O(a.formatDate(e.orderDate)),d(2),O(a.formatDate(e.closedAt))}}function pe(s,n){if(s&1&&(i(0,"div",57)(1,"table",75)(2,"thead")(3,"tr")(4,"th"),r(5,"Order ID"),t(),i(6,"th"),r(7,"Restaurant"),t(),i(8,"th"),r(9,"Date"),t(),i(10,"th"),r(11,"Closed At"),t(),i(12,"th"),r(13,"Actions"),t()()(),i(14,"tbody"),g(15,_e,13,4,"tr",59),t()()()),s&2){let e=m(2);d(15),u("ngForOf",e.orderHistory)}}function ge(s,n){if(s&1&&(i(0,"div")(1,"div",70)(2,"div",71)(3,"h2",45),r(4,"Active Orders"),t()(),i(5,"div",46),g(6,le,2,0,"div",72)(7,ce,14,1,"div",73),t()(),i(8,"div",52)(9,"div",74)(10,"h2",45),r(11,"Order History"),t()(),i(12,"div",46),g(13,ue,2,0,"div",72)(14,pe,16,1,"div",73),t()()()),s&2){let e=m();d(6),u("ngIf",e.activeOrders.length===0),d(),u("ngIf",e.activeOrders.length>0),d(6),u("ngIf",e.orderHistory.length===0),d(),u("ngIf",e.orderHistory.length>0)}}var q=class s{constructor(n,e,a){this.orderService=n;this.authService=e;this.router=a}activeOrders=[];orderHistory=[];isLoading=!1;errorMessage="";successMessage="";selectedOrder=null;isLoadingDetails=!1;orderToClose=null;isProcessingClose=!1;processingPayment=!1;OrderStatus=U;PaymentStatus=R;Object=Object;ngOnInit(){if(!this.authService.isLoggedIn||!this.authService.isAdmin){this.router.navigate(["/"]);return}this.loadActiveOrders(),this.loadOrderHistory()}loadActiveOrders(){this.isLoading=!0,this.errorMessage="",this.orderService.getActiveOrders().subscribe({next:n=>{this.activeOrders=n.map(e=>E(C({},e),{id:e.id,restaurant:{id:"",name:e.restaurantName||"N/A",description:"",address:"",phoneNumber:"",deliveryFee:e.deliveryFee||0},restaurantId:"",managerId:"",status:e.status,orderDate:e.orderDate,closedAt:e.closedAt,deliveryFee:e.deliveryFee})),console.log("Processed active orders:",this.activeOrders),this.isLoading=!1},error:n=>{this.isLoading=!1,this.errorMessage=n.message||"Failed to load active orders"}})}loadOrderHistory(){this.isLoading=!0,this.errorMessage="",this.orderService.getOrderHistory().subscribe({next:n=>{this.orderHistory=n.map(e=>E(C({},e),{id:e.id,restaurant:{id:"",name:e.restaurantName||"N/A",description:"",address:"",phoneNumber:"",deliveryFee:e.deliveryFee||0},restaurantId:"",managerId:"",status:e.status,orderDate:e.orderDate,closedAt:e.closedAt,deliveryFee:e.deliveryFee})),console.log("Processed order history:",this.orderHistory),this.isLoading=!1},error:n=>{this.isLoading=!1,this.errorMessage=n.message||"Failed to load order history"}})}showCloseOrderConfirmation(n){n.restaurantName!==void 0?this.orderToClose={id:n.id,restaurantId:"",managerId:"",status:n.status,orderDate:n.orderDate,closedAt:n.closedAt,restaurant:{id:"",name:n.restaurantName,description:"",address:"",phoneNumber:"",deliveryFee:n.deliveryFee||0}}:this.orderToClose=n}cancelCloseOrder(){this.orderToClose=null}confirmCloseOrder(){if(!this.orderToClose)return;this.isProcessingClose=!0,this.errorMessage="";let n=this.orderToClose.id;this.orderService.closeOrder(this.orderToClose.id).subscribe({next:()=>{this.successMessage="Order closed successfully",this.isProcessingClose=!1;let e=this.orderToClose?.id;this.orderToClose=null,this.loadActiveOrders(),this.loadOrderHistory(),this.selectedOrder&&this.selectedOrder.id===e&&this.viewOrderDetails(this.selectedOrder)},error:e=>{this.isProcessingClose=!1,this.errorMessage=e.message||"Failed to close order"}})}viewOrderDetails(n){if(this.isLoadingDetails=!0,this.errorMessage="",n.restaurantName!==void 0){if(this.selectedOrder=E(C({},n),{id:n.id,restaurantId:"",managerId:"",status:n.status,orderDate:n.orderDate,closedAt:n.closedAt,restaurant:{id:"",name:n.restaurantName,description:"",address:"",phoneNumber:"",deliveryFee:n.deliveryFee||0},deliveryFee:n.deliveryFee}),n.userItems&&Array.isArray(n.userItems)&&n.userItems.length>0){console.log("Processing embedded userItems from order",n.userItems);let e={},a=0,o=n.deliveryFee||0;n.userItems.forEach(c=>{let l=c.userId,b=c.userName||"Unknown User",S=c.price||0,I=c.total||S*c.quantity;a+=I,e[l]||(e[l]={userName:b,items:[],totalAmount:0,deliveryFee:0,isPaid:!1});let M={id:c.id,orderId:n.id,userId:c.userId,menuItemId:c.menuItemId||"",quantity:c.quantity,note:c.note,menuItem:{id:c.menuItemId||"",name:c.menuItemName,description:"",price:c.price,restaurantId:""},user:{id:c.userId,name:c.userName,email:""}};e[l].items.push(M),e[l].totalAmount+=I});let _=Object.keys(e).length;if(_>0&&o>0){let c=n.deliveryFeeShare||o/_;Object.keys(e).forEach(l=>{e[l].deliveryFee=c,e[l].totalAmount+=c}),a+=o}this.selectedOrder.userItems=e,this.selectedOrder.totalAmount=a,this.selectedOrder.deliveryFee=o,this.isLoadingDetails=!1;return}}else this.selectedOrder=C({},n);this.orderService.getAllOrderItems(n.id).subscribe({next:e=>{if(e.items&&Array.isArray(e.items)){console.log("Received new API response format",e),e.restaurantName&&(this.selectedOrder.restaurant?(this.selectedOrder.restaurant.name=e.restaurantName,this.selectedOrder.restaurant.deliveryFee=e.deliveryFee||0):this.selectedOrder.restaurant={id:"",name:e.restaurantName,description:"",address:"",phoneNumber:"",deliveryFee:e.deliveryFee||0});let a={},o=0,_=e.deliveryFee||0;e.items.forEach(l=>{let b=l.userId,S=l.userName||"Unknown User",I=l.price||0,M=l.itemTotal||I*l.quantity;o+=M,a[b]||(a[b]={userName:S,items:[],totalAmount:0,deliveryFee:0,isPaid:!1});let W={id:l.id,orderId:e.orderId||n.id,userId:l.userId,menuItemId:l.menuItemId,quantity:l.quantity,note:l.note,menuItem:{id:l.menuItemId,name:l.menuItemName,description:l.menuItemDescription,price:l.price,restaurantId:""},user:{id:l.userId,name:l.userName,email:""}};a[b].items.push(W),a[b].totalAmount+=M});let c=Object.keys(a).length;if(c>0&&_>0){let l=_/c;Object.keys(a).forEach(b=>{a[b].deliveryFee=l,a[b].totalAmount+=l}),o+=_}n.status===2&&n.payments&&n.payments.forEach(l=>{l.userId&&a[l.userId]&&(a[l.userId].isPaid=l.status===2)}),this.selectedOrder.userItems=a,this.selectedOrder.totalAmount=o,this.selectedOrder.deliveryFee=_}else{let a=e,o={},_=0;a.forEach(c=>{let l=c.userId,b=c.user?.name||"Unknown User",I=(c.menuItem?.price||0)*c.quantity;_+=I,o[l]||(o[l]={userName:b,items:[],totalAmount:0,deliveryFee:0,isPaid:!1}),o[l].items.push(c),o[l].totalAmount+=I}),n.status===2&&n.payments&&n.payments.forEach(c=>{c.userId&&o[c.userId]&&(o[c.userId].isPaid=c.status===2)}),this.selectedOrder.userItems=o,this.selectedOrder.totalAmount=_}this.isLoadingDetails=!1},error:e=>{this.isLoadingDetails=!1,this.errorMessage=e.message||"Failed to load order details"}})}updatePaymentStatus(n,e,a){this.processingPayment=!0,this.errorMessage="",this.orderService.updatePaymentStatus(n,e,a).subscribe({next:()=>{this.successMessage="Payment status updated successfully",this.processingPayment=!1,this.selectedOrder&&this.selectedOrder.userItems&&e in this.selectedOrder.userItems&&(this.selectedOrder.userItems[e].isPaid=a===2)},error:o=>{this.processingPayment=!1,this.errorMessage=o.message||"Failed to update payment status"}})}clearSelectedOrder(){this.selectedOrder=null}getOrderStatusName(n){switch(n){case 1:return"Open";case 2:return"Closed";default:return"Unknown"}}getOrderStatusClass(n){switch(n){case 1:return"bg-success";case 2:return"bg-secondary";default:return"bg-secondary"}}formatDate(n){return n?new Date(n).toLocaleString():"N/A"}static \u0275fac=function(e){return new(e||s)(P(H),P(j),P(V))};static \u0275cmp=w({type:s,selectors:[["app-order-management"]],decls:14,vars:6,consts:[["noItems",""],[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","d-flex justify-content-center my-5",4,"ngIf"],["class","confirmation-modal-overlay",4,"ngIf"],["class","order-details-overlay",4,"ngIf"],[4,"ngIf"],[1,"mt-4"],["routerLink","/admin",1,"btn","btn-secondary"],[1,"fas","fa-arrow-left","me-2"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"d-flex","justify-content-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"confirmation-modal-overlay"],[1,"confirmation-modal"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"alert","alert-warning"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"order-info","mt-3"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"order-details-overlay"],[1,"order-details-modal"],[1,"badge","ms-2",3,"ngClass"],["class","d-flex justify-content-center my-4",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center","my-4"],[1,"order-info","mb-4"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],[4,"ngIf","ngIfElse"],["class","user-order-section mb-4",4,"ngFor","ngForOf"],[1,"card","mt-4"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"col-md-6","offset-md-6"],[1,"table"],[1,"text-end"],[1,"fw-bold"],[1,"user-order-section","mb-4"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"badge","me-2",3,"ngClass"],["class","btn btn-sm btn-success",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-warning",3,"disabled","click",4,"ngIf"],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],["class","delivery-fee-row",4,"ngIf"],["colspan","3",1,"text-end"],[1,"btn","btn-sm","btn-success",3,"click","disabled"],[1,"fas","fa-check","me-1"],[1,"btn","btn-sm","btn-warning",3,"click","disabled"],[1,"fas","fa-times","me-1"],[1,"delivery-fee-row"],["colspan","3",1,"text-end","fw-bold"],[1,"alert","alert-info"],["type","button",1,"btn","btn-danger",3,"click"],[1,"card","mb-4"],[1,"card-header","bg-success","text-white"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"card-header","bg-secondary","text-white"],[1,"table","table-hover"],["role","group",1,"btn-group"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-eye","me-1"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-times-circle","me-1"]],template:function(e,a){e&1&&(i(0,"div",1)(1,"div",2)(2,"h1"),r(3,"Order Management"),t()(),g(4,z,3,1,"div",3)(5,Y,3,1,"div",4)(6,B,4,0,"div",5)(7,G,31,5,"div",6)(8,oe,15,5,"div",7)(9,ge,15,4,"div",8),i(10,"div",9)(11,"a",10),y(12,"i",11),r(13,"Back to Dashboard "),t()()()),e&2&&(d(4),u("ngIf",a.errorMessage),d(),u("ngIf",a.successMessage),d(),u("ngIf",a.isLoading),d(),u("ngIf",a.orderToClose),d(),u("ngIf",a.selectedOrder),d(),u("ngIf",!a.isLoading))},dependencies:[N,T,A,D,$,L],styles:[".table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:.25rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa}.badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.5rem}@media (max-width: 768px){.btn-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:0;margin-bottom:.25rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-bottom:0}}.order-details-overlay[_ngcontent-%COMP%], .confirmation-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;overflow-y:auto;padding:30px}.order-details-modal[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;width:90%;max-width:900px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 25px #0003;display:flex;flex-direction:column}.confirmation-modal[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;width:90%;max-width:500px;box-shadow:0 10px 25px #0003;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_modalFadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_modalFadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #dee2e6}.modal-body[_ngcontent-%COMP%]{padding:1rem;flex:1;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid #dee2e6;display:flex;justify-content:flex-end;gap:10px}.user-order-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 2px 10px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #eee}table[_ngcontent-%COMP%]{width:100%}.table-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem}.badge[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.8rem;font-weight:500}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:5px}.alert-warning[_ngcontent-%COMP%]{border-left:4px solid #ffc107}@media (max-width: 768px){.order-details-modal[_ngcontent-%COMP%], .confirmation-modal[_ngcontent-%COMP%]{width:95%;max-height:95vh}.card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important}.card-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:10px}}.delivery-fee-row[_ngcontent-%COMP%]{background-color:#f8f9fa;font-style:italic}.delivery-fee-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px dashed #dee2e6}"]})};export{q as OrderManagementComponent};
